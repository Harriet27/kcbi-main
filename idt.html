<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>KCBI | Keluarga Cendikiawan Buddhis Indonesia</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- JQuery -->
  <!-- <script src="jquery-3.6.0.min.js"></script> -->

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <link href="assets/css/card-profile.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Baker - v4.7.0
  * Template URL: https://bootstrapmade.com/baker-free-onepage-bootstrap-theme/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top header-transparent">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo">
        <a href="index.html">KCBI</a>
      </h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link" href="/">Beranda</a></li>
          <li class="dropdown"><a href="#"><span>KCBI</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="about-us.html">Tentang Kami</a></li>
              <li><a href="history.html">Sejarah</a></li>
              <li><a href="vision-mission.html">Visi & Misi</a></li>
              <li><a href="management.html">Badan Pengurus</a></li>
              <li><a href="contact-us.html">Hubungi Kami</a></li>
            </ul>
          </li>
          <li class="dropdown"><a class="active" href="#"><span>Liputan</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li class="disabled"><a class="active disabled" >Buletin</a></li>
              <li><a href="gallery.html">Galeri</a></li>
            </ul>
          </li>
          <!-- <li><a class="nav-link" href="news.html">Berita</a></li> -->
          <!-- <li><a class="nav-link scrollto" href="#history">Sejarah</a></li> -->
          <!-- <li><a class="nav-link scrollto " href="#portfolio">Portfolio</a></li> -->
          <!-- <li><a class="nav-link scrollto" href="#team">Badan Pengurus</a></li> -->
          <!-- <li><a class="nav-link scrollto" href="#pricing">Pricing</a></li> -->
          <!-- <li><a class="nav-link scrollto" href="#contact">Hubungi Kami</a></li> -->
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center justify-content-center h-auto">
    <div class="container position-relative py-5">
      <h1>International Dhamma Teaching</h1>
    </div>
  </section><!-- End Hero -->

  <!-- Render IDT Guest List -->
  <main id="main">
    <div
      id="idt_guest"
      class="container data py-3"
    >
    <!-- Guest Card rendered here -->
    </div>
  </main>
  <!-- ./Render IDT Guest List -->

  <footer>
    <hr class="p-0 m-0 b-0">
    <div class="bg-light py-2">
      <div class="container text-center">
        <p class="text-muted mb-0 py-2">Â© 2022 KCBI All rights reserved.</p>
      </div>
    </div>
  </footer>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <script>

    // function to handle read more at button
    function handleReadMore(id) {
      var dots = document.getElementById(`dots_${id}`);
      var moreText = document.getElementById(`more_${id}`);
      var btnText = document.getElementById(`read_more_btn_${id}`);
      if (dots.style.display === "none") {
        dots.style.display = "inline";
        btnText.innerHTML = "Read more"; 
        moreText.style.display = "none";
      } else {
        dots.style.display = "none";
        btnText.innerHTML = "Read less"; 
        moreText.style.display = "inline";
      }
    }

    // get main container
    const mainContainer = document.getElementById("idt_guest");

    fetch("./json/idt-guest-list.json", {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      },
    })
    .then(response => {
      return response.json();
    })
    .then(data => {
      const guestsList = data.guests;
      guestsList.map((val, idx) => {
        const guest_card = `
          <div class="card" id="idt_guest_card" style="margin-bottom: 2.5rem">
            <img class="card-img-top" src="${val.image}" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-event" style="margin-bottom: 1rem">
                <b>Event Date: ${val.date}</b>
              </h5>
              <h5 class="card-title" style="margin-bottom: 1rem">
                <b>Name:</b> <br/>
                ${val.name}
              </h5>
              <h5 class="card-subtitle" style="margin-bottom: 1rem">
                <b>Title:</b> <br/>
                ${val.title}
              </h5>
              <h5 class="card-subtitle" style="margin-bottom: 1rem">
                <b>Organization:</b> <br/>
                ${val.organization}
              </h5>
              <p class="card-text">
                ${val.biography}
                <span id="dots_${val.id}"></span>
                <span id="more_${val.id}" style="display: none">
                  ${val.more_biography}
                </span>
              </p>
            </div>
            <button
              class="btn btn-primary readmorebtn"
              id="read_more_btn_${val.id}"
              onClick="handleReadMore(${val.id})"
            >
              Read More
            </button>
          </div>
        `;
        mainContainer.innerHTML += guest_card;
      })
    })

  </script>

  <style>
    #idt_guest {
      display: flex;
      justify-content: space-between;
    }
    .card-event {
      font-size: 1rem;
    }
    .card-subtitle {
      font-size: 1.125rem;
    }
    .card-text {
      font-size: 0.85rem;
    }
    .readmorebtn {
      align-items: flex-end;
      margin: 0.5rem;
    }
    #idt_guest_card {
      width: 18rem;
      margin-right: 0.275rem;
    }
    #idt_guest_card:last-child {
      margin-right: 0;
    }
    @media only screen and (max-width: 600px) {
      #idt_guest {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      #idt_guest_card {
        width: 100%;
        margin-right: 0;
      }
    }
    @media only screen and (max-width: 1000px) {
      #idt_guest {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      #idt_guest_card {
        width: 100%;
        margin-right: 0;
      }
    }
  </style>

</body>

</html>